function init(){var o=localStorage.getItem(Static.good);if(console.log(o),o){o=JSON.parse(o);for(var t=[],e=0;e<o.length;e++)t.push(getGood(o[e]));render(t),console.log(t)}else alert("此购物车没有任何东西")}function render(o){var t={title:"购物车",list:o},e=template("goodtpl",t);document.getElementById("content").innerHTML=e,$(".del").click(function(){var o=$(this);removeGood($(this).data("id"),function(t){t?o.parents(".carlist").remove():alert("删除失败，请重试")})})}function removeGood(o,t){var e=localStorage.getItem(Static.good);e=JSON.parse(e)||[];for(var d=0;d<e.length;d++)if(e[d]==o)return e.splice(d,1),localStorage.setItem(Static.good,JSON.stringify(e)),void t(!0);t(!1)}function getGood(o){for(var t=0;t<goods.length;t++)if(goods[t].good_id==o)return goods[t]}var id=0,goods=[{good_id:id++,good_url:"dist/img/good.png",good_name:"物品1",good_price:10},{good_id:id++,good_url:"dist/img/good.png",good_name:"物品2",good_price:20},{good_id:id++,good_url:"dist/img/good.png",good_name:"物品3",good_price:30}],Static={good:"goodlist"};init();